---
title: 06 CDN网络加速
date: 2021-6-20
categories:
 - 前端性能
tags:
 - 前端性能
---



## CDN

CDN 内容分发网络，它是专门为解决物理长距离上网络访问速度慢而诞生的一种网络应用服务。

在物理链路上，网络数据是通过电缆、光缆进行传输的，距离越远消耗的时间也越多，并且互联网是由许多小网络组成的，每个网络中都存在许多路由器、网关节点，数据每经过一个节点也会消耗一定的时间。当我们把视野放向全球，数据传输过程中的地理距离、路由转发的影响就会成倍增加。CDN 便是为解决这类问题而诞生的。

### CDN 是如何工作的

CDN 最核心原则是**就近访问**，如果用户能够在本地几十公里的距离内获取到数据，那么时延就不是问题了。于是，CDN 在全国甚至全球都建立了机房，部署大量拥有高存储高带宽的节点，构成一个专用网络。

有了这样的一个专用网络后，CDN 就可以利用这些节点分发源站点的内容。这用到的是**缓存代理**的技术，把源站点的内容缓存到网络的每一个节点上，当用户进行访问时不会直接去“长途跋涉”访问源站点，而是去访问最近的一个 CDN 节点（也就是缓存了源站点内容的代理服务器），这样便实现了所谓的网络加速。

### CDN 能够加速什么资源

CDN 加速的资源就是 HTTP 协议中的资源，例如超文本、图片、视频等等。而资源又可以分为**静态资源**和**动态资源**。

+ 静态资源：数据内容在较长时间内静态不变，例如图片、音频、视频
+ 动态资源：数据内容是动态变化的，一般会由服务器后台生成的，每次访问都不一样，例如商品的库存信息

能够利用 CDN 进行加速的资源都是能够被缓存的资源。很明显的，静态资源就是 CDN 加速的不二之选。而对于那些变化不怎么频繁的动态资源也可以利用 CDN 加速，指定缓存时长 Cache-Control 让其效率最大化。